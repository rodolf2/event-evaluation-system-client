@import "tailwindcss";
/* @import "tailwindcss/preflight"; */

/* Custom Fonts */

@font-face {
  font-family: "PartyBusiness";
  src: url("/fonts/PartyBusiness-4B0K.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: "Tolkien";
  src: url("/fonts/Tolkien.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
}

/* Font utility classes */
.font-tolkien {
  font-family: "Tolkien", cursive !important;
}

/* Hide native calendar icon in Webkit browsers */
.hide-native-calendar-icon::-webkit-calendar-picker-indicator {
  display: none;
  -webkit-appearance: none;
}

/* Regular screen styles - make container smaller */
.report-print-content {
  max-width: 1200px !important;
  margin: 0 auto !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
}

.report-print-content .container {
  max-width: 100% !important;
}

/* Print Styles for Reports */
@media print {

  /* Ensure background colors and images are printed */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Hide navigation elements for print */
  aside,
  header,
  nav,
  .print\:hidden,
  /* Additional selectors for specific UI elements */
  .sticky,
  [class*="sticky"],
  header.sticky,
  /* Hide action bars and navigation controls */
  [class*="print:hidden"],
  /* Hide hamburger menus and notification bells */
  button[aria-label="menu"],
  [class*="z-20"]:has(.lucide-menu),
  /* Target the main app header by its structure */
  header:has(.lucide-menu),
  header:has(.lucide-bell) {
    display: none !important;
    visibility: hidden !important;
  }

  /* Basic Page Setup - Adjusted margins for better content fit */
  @page {
    margin: 0.75in 0.5in;
    /* Top/Bottom: 0.75in, Left/Right: 0.5in */
    size: A4;
  }

  body {
    background: white !important;
    font-size: 11pt !important;
    line-height: 1.5 !important;
    /* Improved line spacing for readability */
    color: #000 !important;
    font-family:
      "Times New Roman", Times, serif !important;
    /* More professional font */
  }

  /* Report Container - Better padding and spacing */
  .report-print-content {
    background: white !important;
    width: 100% !important;
    max-width: none !important;
    margin: 0 !important;
    padding: 0 !important;
    box-shadow: none !important;
  }

  .container {
    max-width: none !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  /* Grid Layouts - Restore 2-column layout for charts with better spacing */
  .grid {
    display: grid !important;
    gap: 1.5rem !important;
    margin-bottom: 1rem !important;
  }

  .grid-cols-1 {
    grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
  }

  .md\:grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }

  /* Background Colors - Clean up for print */
  .bg-gray-100 {
    background-color: white !important;
  }

  .bg-white {
    background-color: white !important;
    box-shadow: none !important;
    border: none !important;
    padding: 15px !important;
    /* Better padding for content */
  }

  /* Typography Enhancements - STANDARD PROFESSIONAL SIZE with better spacing */
  h1 {
    font-size: 16pt !important;
    line-height: 1.3 !important;
    margin-bottom: 0.75rem !important;
    font-weight: bold !important;
  }

  h2 {
    font-size: 14pt !important;
    line-height: 1.3 !important;
    margin-bottom: 0.6rem !important;
    font-weight: bold !important;
  }

  h3 {
    font-size: 13pt !important;
    line-height: 1.3 !important;
    margin-bottom: 0.5rem !important;
    font-weight: bold !important;
  }

  h4 {
    font-size: 12pt !important;
    line-height: 1.3 !important;
    margin-bottom: 0.5rem !important;
    font-weight: bold !important;
  }

  h5 {
    font-size: 11pt !important;
    line-height: 1.3 !important;
    margin-bottom: 0.4rem !important;
    font-weight: bold !important;
  }

  h6 {
    font-size: 10pt !important;
    line-height: 1.2 !important;
    margin-bottom: 0.3rem !important;
    font-weight: bold !important;
  }

  .text-5xl {
    font-size: 18pt !important;
    line-height: 1.3 !important;
  }

  .text-4xl {
    font-size: 16pt !important;
    line-height: 1.3 !important;
  }

  .text-3xl {
    font-size: 15pt !important;
    line-height: 1.3 !important;
  }

  .text-2xl {
    font-size: 14pt !important;
    line-height: 1.3 !important;
  }

  .text-xl {
    font-size: 13pt !important;
    line-height: 1.3 !important;
  }

  .text-lg {
    font-size: 12pt !important;
    line-height: 1.3 !important;
  }

  .text-base {
    font-size: 11pt !important;
    line-height: 1.5 !important;
  }

  .text-sm {
    font-size: 10pt !important;
    line-height: 1.4 !important;
  }

  .text-xs {
    font-size: 9pt !important;
    line-height: 1.3 !important;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: #1e3a8a !important;
    /* Dark blue for headers */
    page-break-after: avoid !important;
    margin-top: 0.5rem !important;
  }

  p,
  li,
  span,
  div {
    color: #1f2937 !important;
    /* Dark gray for text */
    margin-bottom: 0.5rem !important;
    /* Better paragraph spacing */
  }

  /* Charts - FIXED PIXEL DIMENSIONS FOR PRINT with consistent sizing */
  .print-chart-container {
    width: 100% !important;
    max-width: 400px !important;
    height: auto !important;
    min-height: 280px !important;
    display: block !important;
    break-inside: avoid !important;
    page-break-inside: avoid !important;
    margin-bottom: 1.5rem !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }

  /* Target wrapper inside our container - consistent size for all charts */
  .print-chart-container .recharts-wrapper {
    width: 100% !important;
    max-width: 400px !important;
    height: 250px !important;
    display: block !important;
    visibility: visible !important;
  }

  /* Fallback for other charts */
  .recharts-wrapper {
    display: block !important;
    visibility: visible !important;
    min-width: 300px !important;
    min-height: 250px !important;
  }

  /* Ensure SVG contents are visible */
  .recharts-surface {
    overflow: visible !important;
    display: block !important;
    visibility: visible !important;
    width: 100% !important;
    height: 100% !important;
  }

  .recharts-layer {
    display: block !important;
  }

  /* Ensure SVG contents are visible */
  .recharts-wrapper svg {
    overflow: visible !important;
    display: block !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
  }

  /* Comment Boxes - Better spacing and borders */
  .bg-green-50,
  .bg-red-50,
  .bg-yellow-50,
  .bg-gray-50 {
    border: 1px solid #e5e7eb !important;
    break-inside: avoid !important;
    page-break-inside: avoid !important;
    padding: 8px !important;
    margin-bottom: 8px !important;
  }

  /* Page Breaks - Improved section spacing */
  .section-page {
    page-break-before: always !important;
    page-break-inside: avoid !important;
    margin-top: 1.5rem !important;
    margin-bottom: 1rem !important;
  }

  .section-page:first-child {
    page-break-before: avoid !important;
    margin-top: 0 !important;
  }

  /* Explicitly handle breaks for chart sections */
  .mb-16 {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
    margin-bottom: 1.5rem !important;
  }

  /* ========================================
     ENHANCED PAGE BREAK & READABILITY RULES
     ======================================== */

  /* Orphan/Widow Control - Prevent single lines stranded at page boundaries */
  p,
  li,
  span {
    orphans: 3 !important;
    widows: 3 !important;
  }

  /* Individual comment items - prevent breaking in the middle of a comment */
  .comment-item {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
    margin-bottom: 0.75rem !important;
    padding: 6px 0 !important;
  }

  /* Comment list containers - allow breaks between comments but not mid-comment */
  .comment-list {
    break-inside: auto !important;
    page-break-inside: auto !important;
  }

  /* Question blocks - keep question title with its chart/data */
  .question-block {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
    margin-bottom: 1.5rem !important;
    padding-bottom: 1rem !important;
  }

  /* For very long question blocks, allow intelligent breaks */
  .question-block-flexible {
    break-inside: auto !important;
    page-break-inside: auto !important;
  }

  /* Keep titles/headers with following content */
  .print-keep-with-next {
    break-after: avoid !important;
    page-break-after: avoid !important;
  }

  /* Content that should always start on a new page */
  .print-page-break-before {
    break-before: page !important;
    page-break-before: always !important;
  }

  /* Prevent page break right after this element */
  .print-no-break-after {
    break-after: avoid !important;
    page-break-after: avoid !important;
  }

  /* Flex/Grid items in chart sections - keep together */
  .print-chart-container,
  .flex.flex-col.md\\:flex-row {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
  }

  /* Rating legend items - keep together */
  .space-y-2>div {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
    margin-bottom: 0.5rem !important;
  }

  /* Insights section - each insight paragraph should not break */
  .space-y-6>p {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
    margin-bottom: 0.75rem !important;
    line-height: 1.5 !important;
  }

  /* Section wrappers with white background - nice boundary */
  .bg-white.rounded-lg {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
    margin-bottom: 1rem !important;
  }

  /* For comment sections that may be very long - max height auto-break */
  .comment-section-container {
    break-inside: auto !important;
    page-break-inside: auto !important;
    margin-bottom: 1rem !important;
  }

  /* Each comment in the list */
  .comment-section-container .flex.gap-2 {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
    padding-bottom: 0.5rem !important;
    margin-bottom: 0.5rem !important;
  }

  /* Border separator between questions */
  .border-b {
    break-after: auto !important;
    page-break-after: auto !important;
    margin-bottom: 1rem !important;
  }

  /* Footer */
  .report-footer {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    width: 100% !important;
    border-top: 1px solid #e5e7eb !important;
    padding-top: 0.5rem !important;
    font-size: 9pt !important;
  }

  /* Additional spacing improvements */
  .mb-8 {
    margin-bottom: 1.5rem !important;
  }

  .mb-6 {
    margin-bottom: 1rem !important;
  }

  .mb-4 {
    margin-bottom: 0.75rem !important;
  }

  .mb-2 {
    margin-bottom: 0.5rem !important;
  }

  .mt-8 {
    margin-top: 1.5rem !important;
  }

  .mt-6 {
    margin-top: 1rem !important;
  }

  .mt-4 {
    margin-top: 0.75rem !important;
  }

  .mt-2 {
    margin-top: 0.5rem !important;
  }

  /* Table improvements */
  table {
    width: 100% !important;
    border-collapse: collapse !important;
    margin-bottom: 1rem !important;
  }

  th,
  td {
    padding: 6px 8px !important;
    border: 1px solid #ddd !important;
    text-align: left !important;
  }

  th {
    background-color: #f5f5f5 !important;
    font-weight: bold !important;
  }

  /* List improvements */
  ul,
  ol {
    margin-bottom: 1rem !important;
    padding-left: 1.5rem !important;
  }

  li {
    margin-bottom: 0.25rem !important;
  }

  /* Ensure proper spacing for section titles */
  .text-center {
    margin-bottom: 1rem !important;
  }

  /* Better handling of flex containers */
  .flex {
    display: flex !important;
  }

  .flex-col {
    flex-direction: column !important;
  }

  .gap-2 {
    gap: 0.5rem !important;
  }

  .gap-4 {
    gap: 1rem !important;
  }

  .gap-6 {
    gap: 1.5rem !important;
  }

  .gap-8 {
    gap: 2rem !important;
  }
}